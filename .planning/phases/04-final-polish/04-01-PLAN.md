---
phase: 04-final-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/pages/search.astro, src/components/Comments.tsx]
autonomous: true

must_haves:
  truths:
    - "Search input and results have 3px borders and 6px hard shadows"
    - "Search interface has 0px border radius (sharp corners)"
    - "Search result titles use Archivo Black font"
    - "Giscus comments use high-contrast themes"
  artifacts:
    - path: "src/pages/search.astro"
      provides: "Neobrutalist search UI"
    - path: "src/components/Comments.tsx"
      provides: "High-contrast comment section"
  key_links:
    - from: "src/pages/search.astro"
      to: "global.css"
      via: "CSS variables (--border-width, --font-heading)"
---

<objective>
Redesign secondary features (Search & Comments) to match the neobrutalist aesthetic.

Purpose: Ensures that even third-party/secondary components feel integrated into the "Soda Zitrone" theme.
Output: Styled search interface and high-contrast comment section.
</objective>

<execution_context>
@/Users/christophkopf/.gemini/get-shit-done/workflows/execute-plan.md
@/Users/christophkopf/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@src/pages/search.astro
@src/components/Comments.tsx
@src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign Search UI</name>
  <files>src/pages/search.astro</files>
  <action>
    Update the `<style is:global>` section in `src/pages/search.astro`:
    - Set `--pagefind-ui-border-radius: 0px`.
    - Set `--pagefind-ui-border-width: var(--border-width)` (which is 3px).
    - Apply `shadow-neo` to the search input. You might need to add it to `.pagefind-ui__search-input`.
    - Set `.pagefind-ui__result-title a` to use `font-family: var(--font-heading)` and `text-transform: uppercase`.
    - Ensure colors use `--zest`, `--ink`, and `--background` appropriately.
    - Remove any default focus outlines and use the project's dashed outline style if possible.
  </action>
  <verify>Run `npm run build` and check the search page. Ensure the input has a thick border, hard shadow, and sharp corners.</verify>
  <done>Search UI matches the neobrutalist theme perfectly.</done>
</task>

<task type="auto">
  <name>Task 2: Update Giscus Themes</name>
  <files>src/components/Comments.tsx</files>
  <action>
    Modify `src/components/Comments.tsx`:
    - Update the default values for `lightTheme` and `darkTheme` props or the `Giscus` component call.
    - Set `lightTheme` to `"light_high_contrast"`.
    - Set `darkTheme` to `"dark_high_contrast"`.
  </action>
  <verify>Visit a blog post and check the Giscus comment section. It should use the high-contrast theme variants.</verify>
  <done>Giscus comments are high-contrast and match the site's accessibility goals.</done>
</task>

</tasks>

<verification>
1. Search page looks neobrutalist (thick borders, hard shadows, sharp corners).
2. Search result titles use Archivo Black.
3. Comments use high-contrast themes.
</verification>

<success_criteria>
- Search UI has no rounding.
- Search UI uses project-defined borders and shadows.
- Giscus theme is set to high_contrast variants.
</success_criteria>

<output>
After completion, create `.planning/phases/04-final-polish/04-01-SUMMARY.md`
</output>
