---
import type { HTMLAttributes } from "astro/types";

type Props = {
  disabled?: boolean;
  variant?: "link" | "button";
} & HTMLAttributes<"a">;

const { disabled, variant = "link", class: className, ...attrs } = Astro.props;

const Button = disabled ? "span" : "a";

const variantClasses = {
  link: "underline decoration-dashed underline-offset-4 hover:text-accent hover:decoration-solid",
  button: "border-neo shadow-neo hover-neo bg-card-bg text-foreground px-4 py-1 no-underline",
};
---

<Button
  aria-disabled={disabled}
  class:list={[
    "group inline-flex items-center gap-1 transition-all duration-200",
    variantClasses[variant],
    { "cursor-not-allowed opacity-50": disabled },
    className,
  ]}
  {...attrs}
>
  <slot />
</Button>
