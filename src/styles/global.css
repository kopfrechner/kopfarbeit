@import "tailwindcss";
@import "./typography.css";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

:root,
html[data-theme="light"] {
  --background: #f0ede5;
  --foreground: #0d0d0d;
  --accent: #e78003;
  --muted: #dbe1e9;
  --border: #000000;
  --card-bg: #ffffff;
  --card-bg-secondary: #fcebd5;
}

html[data-theme="dark"] {
  --background: #1a1a1a;
  --foreground: #f2f2f2;
  --accent: #9601b8;
  --muted: #595959;
  --border: #000000;
  --card-bg: #2d2d2d;
  --card-bg-secondary: #412A4C;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-card-bg: var(--card-bg);
  --color-card-bg-secondary: var(--card-bg-secondary);
  --shadow-neo: 6px 6px 0px 0px #000;
}

@layer base {
  * {
    @apply border-border outline-accent/75;
    scrollbar-width: auto;
    scrollbar-color: var(--color-muted) transparent;
  }

  html {
    @apply overflow-y-scroll scroll-smooth;
  }

  body {
    @apply flex min-h-svh flex-col bg-background font-mono text-foreground selection:bg-accent/75 selection:text-background;
  }

  a,
  button {
    @apply outline-offset-1 outline-accent focus-visible:no-underline focus-visible:outline-2 focus-visible:outline-dashed;
  }

  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }
}

@utility max-w-app {
  @apply max-w-4xl;
}

@utility app-layout {
  @apply mx-auto w-full max-w-app px-4;
}

@utility shadow-neo {
  box-shadow: 6px 6px 0px 0px #000;
}

@utility border-neo {
  border: 3px solid #000;
}

/* Background Noise Layer */
/* Creates a recycled paper texture with noise and fibers */
.paper-texture {
  background-color: var(--color-background);
  position: relative;
  isolation: isolate;
  min-height: 100vh;
}

.paper-texture::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  /* 
    Using SVG for grain/noise texture 
    This creates a lightweight, scalable noise pattern without external image files
  */
  background-image: url('/images/noise.svg');
  background-size: 100px 100px;
  /* Smaller size for finer grain */
  background-repeat: repeat;
  opacity: 0.45;
  background-blend-mode: multiply;
}

html[data-theme="dark"] .paper-texture::before {
  /* In dark mode, we can adjust opacity or blend mode if needed, 
     but often the same noise works well with just lower opacity 
     or different blending against dark backgrounds. 
     Let's style it for dark mode. */
  opacity: 0.15;
  background-blend-mode: soft-light;
}

.active-nav {
  @apply underline decoration-2 underline-offset-4;
}

/* Source: https://piccalil.li/blog/a-more-modern-css-reset/ */
/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 1rem;
}