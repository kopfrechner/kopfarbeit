@import url('https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap'); /* Archivo Black */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap'); /* JetBrains Mono */
@import "tailwindcss";
@import "./typography.css";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

:root,
html[data-theme="light"] {
  --zest: #DAFF00;
  --fizz: #00F0FF;
  --ink: #000000;
  --background: #FFFDF5;
  --foreground: #1A1A1A;
  --card-bg: #FFFFFF;
  --border-width: 3px;
  --shadow-color: #000000;
  --shadow-offset: 6px 6px 0px;

  /* legacy/shorthand mappings */
  --accent: var(--zest);
  --border: var(--ink);
  --muted: #dbe1e9;
  --card-bg-secondary: #fcebd5;
}

html[data-theme="dark"] {
  --zest: #DAFF00;
  --fizz: #FF00EA;
  --ink: #000000;
  --background: #121212;
  --foreground: #DAFF00;
  --card-bg: #252525;
  --border-width: 3px;
  --shadow-color: #FFFFFF;
  --shadow-offset: 6px 6px 0px;

  /* legacy/shorthand mappings */
  --accent: var(--zest);
  --border: var(--ink);
  --muted: #595959;
  --card-bg-secondary: #412A4C;
}

@theme inline {
  --font-mono: "JetBrains Mono", monospace;
  --font-heading: "Archivo Black", sans-serif;
  
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-zest: var(--zest);
  --color-fizz: var(--fizz);
  --color-ink: var(--ink);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-card-bg: var(--card-bg);
  --color-card-bg-secondary: var(--card-bg-secondary);
  
  --shadow-neo: var(--shadow-offset) var(--shadow-color);
  --border-width-neo: var(--border-width);
}

@layer base {
  * {
    @apply border-border outline-accent/75;
    scrollbar-width: auto;
    scrollbar-color: var(--color-muted) transparent;
  }

  html {
    @apply overflow-y-scroll scroll-smooth;
  }

  body {
    @apply flex min-h-svh flex-col bg-background font-mono text-foreground selection:bg-accent/75 selection:text-background;
    font-family: 'JetBrains Mono', monospace;
  }

  a,
  button {
    @apply outline-offset-1 outline-accent focus-visible:no-underline focus-visible:outline-2 focus-visible:outline-dashed;
  }

  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }
}

@utility max-w-app {
  @apply max-w-4xl;
}

@utility app-layout {
  @apply mx-auto w-full max-w-app px-4;
}

@utility shadow-neo {
  box-shadow: var(--shadow-offset) var(--shadow-color);
}

@utility border-neo {
  border: var(--border-width) solid var(--border);
}

/* Background Noise Layer */
/* Creates a recycled paper texture with noise and fibers */
.paper-texture {
  background-color: var(--color-background);
  position: relative;
  isolation: isolate;
  min-height: 100vh;
}

.paper-texture::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  /* 
    Using SVG for grain/noise texture 
    This creates a lightweight, scalable noise pattern without external image files
  */
  background-image: url('/images/noise.svg');
  background-size: 100px 100px;
  /* Smaller size for finer grain */
  background-repeat: repeat;
  opacity: 0.45;
  background-blend-mode: multiply;
}

html[data-theme="dark"] .paper-texture::before {
  /* In dark mode, we can adjust opacity or blend mode if needed, 
     but often the same noise works well with just lower opacity 
     or different blending against dark backgrounds. 
     Let's style it for dark mode. */
  opacity: 0.15;
  background-blend-mode: soft-light;
}

.active-nav {
  @apply underline decoration-2 underline-offset-4;
}

/* Source: https://piccalil.li/blog/a-more-modern-css-reset/ */
/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 1rem;
}